import{j as g,L as u}from"./vendor.28530bdd.js";const b=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}};b();const v="https://raw.githubusercontent.com/igorsaux/webmap/master/dmm-renderer.yaml",w="https://raw.githubusercontent.com/igorsaux/webmap/master/images/";function y(a,o,s){return`${w}${a}-${o}-${s}.png`}function O(a,o,s){const r=document.createElement("div");r.id="webmap",document.body.appendChild(r);const e=u.map(r,{center:[-125,125],zoom:4,crs:u.CRS.Simple,maxZoom:6,minZoom:2});e.attributionControl.setPrefix('OnyxBay \u2022 Igor Spichkin 2021 \u2022 <a href=""https://github.com/igorsaux/webmap>GitHub</a>');let t;e.fitBounds(o.bounds),e.setMaxBounds(o.bounds);let l=u.control.layers().addTo(e);const m={},d={},p=n=>{for(const c of Object.keys(d))for(const i of Object.values(d[c]))l.removeLayer(i);const f=d[n];for(const c in f){const i=f[c];l.addOverlay(i,c)}};for(const n in o.levels){const f=o.levels[n],c=[];d[n]={};for(const i of o.layers.slice(1)){const h=s[i];d[n][h.display]=u.imageOverlay(y(a,n,i),o.bounds)}if(f.underlays)for(const i of f.underlays)c.push(u.imageOverlay(y(a,i,o.layers[0]),o.bounds,{className:"UnderlayLayer"}));m[n]=u.layerGroup(c).addLayer(u.imageOverlay(y(a,n,o.layers[0]),o.bounds)),l.addBaseLayer(m[n],n),n===o.mainLevel&&(t=m[n],p(n))}t==null||t.addTo(e),e.on("baselayerchange",n=>p(n.name))}function L(a){const o=document.createElement("div");o.id="ListOfMaps";const s=document.createElement("h1");s.innerText="- \u0421\u043F\u0438\u0441\u043E\u043A \u043A\u0430\u0440\u0442 -",o.appendChild(s);for(const r in a){const e=document.createElement("a");e.innerText=r,e.href=`#/${r.toLowerCase()}`,o.appendChild(e)}document.body.appendChild(o)}async function x(){const a=await(await fetch(v)).text(),o=g.load(a),s=location.hash.replace("#/","").toLowerCase(),r=Object.keys(o.groups).find(e=>e.toLowerCase()===s);if(!r||!s)return L(o.groups);O(r,o.groups[r],o.layers)}x();window.onhashchange=function(){location.reload()};
