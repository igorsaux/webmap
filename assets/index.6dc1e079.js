import{L as d}from"./vendor.427851ec.js";const v=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};v();const g="https://raw.githubusercontent.com/igorsaux/webmap/master/dmm-renderer.json",b="https://raw.githubusercontent.com/igorsaux/webmap/master/images/";function p(r,e,s){return`${b}${r}-${e}-${s}.png`}function w(r,e,s){const a=document.createElement("div");a.id="webmap",document.body.appendChild(a);const n=d.map(a,{center:[-125,125],zoom:4,crs:d.CRS.Simple,maxZoom:6});let o;n.fitBounds(e.bounds),n.setMaxBounds(e.bounds);let i=d.control.layers().addTo(n);const m={},f={},h=u=>{for(const c of Object.keys(f))for(const l of Object.values(f[c]))i.removeLayer(l);const t=f[u];for(const c in t){const l=t[c];i.addOverlay(l,c)}};for(const u in e.levels){const t=e.levels[u],c=[];f[t.name]={};for(const l of e.layers.slice(1)){const y=s[l];f[t.name][y.display]=d.imageOverlay(p(r,t.name,l),e.bounds)}if(t.underlays)for(const l of t.underlays){const y=e.levels[l];c.push(d.imageOverlay(p(r,y.name,e.layers[0]),e.bounds,{className:"UnderlayLayer"}))}m[t.name]=d.layerGroup(c).addLayer(d.imageOverlay(p(r,t.name,e.layers[0]),e.bounds)),i.addBaseLayer(m[t.name],t.name),u===e.mainLevel&&(o=m[t.name],h(t.name))}o==null||o.addTo(n),n.on("baselayerchange",u=>h(u.name))}function L(r){const e=document.createElement("div");e.id="ListOfMaps";const s=document.createElement("h1");s.innerText="- \u0421\u043F\u0438\u0441\u043E\u043A \u043A\u0430\u0440\u0442 -",e.appendChild(s);for(const a in r){const n=document.createElement("a");n.innerText=a,n.href=`#/${a.toLowerCase()}`,e.appendChild(n)}document.body.appendChild(e)}async function O(){const r=await(await fetch(g)).json(),e=location.hash.replace("#/","").toLowerCase(),s=Object.keys(r.maps).find(a=>a.toLowerCase()===e);if(!s||!e)return L(r.maps);w(s,r.maps[s],r.layers)}O();window.onhashchange=function(){location.reload()};
