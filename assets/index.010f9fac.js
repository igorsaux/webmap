import{L as d}from"./vendor.427851ec.js";const g=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(o){if(o.ep)return;o.ep=!0;const t=s(o);fetch(o.href,t)}};g();const v="https://raw.githubusercontent.com/igorsaux/webmap/master/dmm-renderer.json",b="https://raw.githubusercontent.com/igorsaux/webmap/master/images/";function y(r,e,s){return`${b}${r}-${e}-${s}.png`}function w(r,e,s){const a=document.createElement("div");a.id="webmap",document.body.appendChild(a);const o=d.map(a,{center:[-125,125],zoom:4,crs:d.CRS.Simple,maxZoom:6});let t;o.fitBounds(e.bounds),o.setMaxBounds(e.bounds);let i=d.control.layers().addTo(o);const m={},u={},p=n=>{for(const c of Object.keys(u))for(const l of Object.values(u[c]))i.removeLayer(l);const f=u[n];for(const c in f){const l=f[c];i.addOverlay(l,c)}};for(const n in e.levels){const f=e.levels[n],c=[];u[n]={};for(const l of e.layers.slice(1)){const h=s[l];u[n][h.display]=d.imageOverlay(y(r,n,l),e.bounds)}if(f.underlays)for(const l of f.underlays)c.push(d.imageOverlay(y(r,l,e.layers[0]),e.bounds,{className:"UnderlayLayer"}));m[n]=d.layerGroup(c).addLayer(d.imageOverlay(y(r,n,e.layers[0]),e.bounds)),i.addBaseLayer(m[n],n),n===e.mainLevel&&(t=m[n],p(n))}t==null||t.addTo(o),o.on("baselayerchange",n=>p(n.name))}function L(r){const e=document.createElement("div");e.id="ListOfMaps";const s=document.createElement("h1");s.innerText="- \u0421\u043F\u0438\u0441\u043E\u043A \u043A\u0430\u0440\u0442 -",e.appendChild(s);for(const a in r){const o=document.createElement("a");o.innerText=a,o.href=`#/${a.toLowerCase()}`,e.appendChild(o)}document.body.appendChild(e)}async function O(){const r=await(await fetch(v)).json(),e=location.hash.replace("#/","").toLowerCase(),s=Object.keys(r.groups).find(a=>a.toLowerCase()===e);if(!s||!e)return L(r.groups);w(s,r.groups[s],r.layers)}O();window.onhashchange=function(){location.reload()};
